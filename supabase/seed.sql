-- Marina Management System - Seed Data
-- Run this AFTER running the migrations and creating test users in Supabase Auth

-- =====================
-- PONTOONS (3 pontoons: A, B, C)
-- =====================
INSERT INTO pontoons (id, name, code) VALUES
  ('11111111-1111-1111-1111-111111111111', 'Ponton A', 'A'),
  ('22222222-2222-2222-2222-222222222222', 'Ponton B', 'B'),
  ('33333333-3333-3333-3333-333333333333', 'Ponton C', 'C');

-- =====================
-- BERTHS (30 berths: 10 per pontoon)
-- Polygon coordinates are in [lat, lng] format for Leaflet
-- These form a grid layout for the placeholder map
-- =====================

-- Ponton A berths (A-01 to A-10)
INSERT INTO berths (id, pontoon_id, code, polygon, width, length, daily_rate, status) VALUES
  ('a0000001-0000-0000-0000-000000000001', '11111111-1111-1111-1111-111111111111', 'A-01', '[[0.1, 0.1], [0.1, 0.15], [0.18, 0.15], [0.18, 0.1]]', 3.0, 10.0, 50.00, 'active'),
  ('a0000002-0000-0000-0000-000000000002', '11111111-1111-1111-1111-111111111111', 'A-02', '[[0.1, 0.16], [0.1, 0.21], [0.18, 0.21], [0.18, 0.16]]', 3.5, 12.0, 60.00, 'active'),
  ('a0000003-0000-0000-0000-000000000003', '11111111-1111-1111-1111-111111111111', 'A-03', '[[0.1, 0.22], [0.1, 0.27], [0.18, 0.27], [0.18, 0.22]]', 3.0, 10.0, 50.00, 'active'),
  ('a0000004-0000-0000-0000-000000000004', '11111111-1111-1111-1111-111111111111', 'A-04', '[[0.1, 0.28], [0.1, 0.33], [0.18, 0.33], [0.18, 0.28]]', 4.0, 14.0, 70.00, 'active'),
  ('a0000005-0000-0000-0000-000000000005', '11111111-1111-1111-1111-111111111111', 'A-05', '[[0.1, 0.34], [0.1, 0.39], [0.18, 0.39], [0.18, 0.34]]', 3.0, 10.0, 50.00, 'active'),
  ('a0000006-0000-0000-0000-000000000006', '11111111-1111-1111-1111-111111111111', 'A-06', '[[0.1, 0.40], [0.1, 0.45], [0.18, 0.45], [0.18, 0.40]]', 3.5, 12.0, 60.00, 'active'),
  ('a0000007-0000-0000-0000-000000000007', '11111111-1111-1111-1111-111111111111', 'A-07', '[[0.1, 0.46], [0.1, 0.51], [0.18, 0.51], [0.18, 0.46]]', 3.0, 10.0, 50.00, 'active'),
  ('a0000008-0000-0000-0000-000000000008', '11111111-1111-1111-1111-111111111111', 'A-08', '[[0.1, 0.52], [0.1, 0.57], [0.18, 0.57], [0.18, 0.52]]', 4.5, 16.0, 80.00, 'active'),
  ('a0000009-0000-0000-0000-000000000009', '11111111-1111-1111-1111-111111111111', 'A-09', '[[0.1, 0.58], [0.1, 0.63], [0.18, 0.63], [0.18, 0.58]]', 3.0, 10.0, 50.00, 'maintenance'),
  ('a0000010-0000-0000-0000-000000000010', '11111111-1111-1111-1111-111111111111', 'A-10', '[[0.1, 0.64], [0.1, 0.69], [0.18, 0.69], [0.18, 0.64]]', 3.5, 12.0, 60.00, 'active');

-- Ponton B berths (B-01 to B-10)
INSERT INTO berths (id, pontoon_id, code, polygon, width, length, daily_rate, status) VALUES
  ('b0000001-0000-0000-0000-000000000001', '22222222-2222-2222-2222-222222222222', 'B-01', '[[0.35, 0.1], [0.35, 0.15], [0.43, 0.15], [0.43, 0.1]]', 4.0, 14.0, 70.00, 'active'),
  ('b0000002-0000-0000-0000-000000000002', '22222222-2222-2222-2222-222222222222', 'B-02', '[[0.35, 0.16], [0.35, 0.21], [0.43, 0.21], [0.43, 0.16]]', 4.0, 14.0, 70.00, 'active'),
  ('b0000003-0000-0000-0000-000000000003', '22222222-2222-2222-2222-222222222222', 'B-03', '[[0.35, 0.22], [0.35, 0.27], [0.43, 0.27], [0.43, 0.22]]', 4.5, 16.0, 80.00, 'active'),
  ('b0000004-0000-0000-0000-000000000004', '22222222-2222-2222-2222-222222222222', 'B-04', '[[0.35, 0.28], [0.35, 0.33], [0.43, 0.33], [0.43, 0.28]]', 4.0, 14.0, 70.00, 'active'),
  ('b0000005-0000-0000-0000-000000000005', '22222222-2222-2222-2222-222222222222', 'B-05', '[[0.35, 0.34], [0.35, 0.39], [0.43, 0.39], [0.43, 0.34]]', 5.0, 18.0, 100.00, 'active'),
  ('b0000006-0000-0000-0000-000000000006', '22222222-2222-2222-2222-222222222222', 'B-06', '[[0.35, 0.40], [0.35, 0.45], [0.43, 0.45], [0.43, 0.40]]', 4.0, 14.0, 70.00, 'active'),
  ('b0000007-0000-0000-0000-000000000007', '22222222-2222-2222-2222-222222222222', 'B-07', '[[0.35, 0.46], [0.35, 0.51], [0.43, 0.51], [0.43, 0.46]]', 4.5, 16.0, 80.00, 'active'),
  ('b0000008-0000-0000-0000-000000000008', '22222222-2222-2222-2222-222222222222', 'B-08', '[[0.35, 0.52], [0.35, 0.57], [0.43, 0.57], [0.43, 0.52]]', 4.0, 14.0, 70.00, 'inactive'),
  ('b0000009-0000-0000-0000-000000000009', '22222222-2222-2222-2222-222222222222', 'B-09', '[[0.35, 0.58], [0.35, 0.63], [0.43, 0.63], [0.43, 0.58]]', 4.0, 14.0, 70.00, 'active'),
  ('b0000010-0000-0000-0000-000000000010', '22222222-2222-2222-2222-222222222222', 'B-10', '[[0.35, 0.64], [0.35, 0.69], [0.43, 0.69], [0.43, 0.64]]', 5.0, 18.0, 100.00, 'active');

-- Ponton C berths (C-01 to C-10)
INSERT INTO berths (id, pontoon_id, code, polygon, width, length, daily_rate, status) VALUES
  ('c0000001-0000-0000-0000-000000000001', '33333333-3333-3333-3333-333333333333', 'C-01', '[[0.6, 0.1], [0.6, 0.15], [0.68, 0.15], [0.68, 0.1]]', 5.0, 18.0, 100.00, 'active'),
  ('c0000002-0000-0000-0000-000000000002', '33333333-3333-3333-3333-333333333333', 'C-02', '[[0.6, 0.16], [0.6, 0.21], [0.68, 0.21], [0.68, 0.16]]', 5.5, 20.0, 120.00, 'active'),
  ('c0000003-0000-0000-0000-000000000003', '33333333-3333-3333-3333-333333333333', 'C-03', '[[0.6, 0.22], [0.6, 0.27], [0.68, 0.27], [0.68, 0.22]]', 5.0, 18.0, 100.00, 'active'),
  ('c0000004-0000-0000-0000-000000000004', '33333333-3333-3333-3333-333333333333', 'C-04', '[[0.6, 0.28], [0.6, 0.33], [0.68, 0.33], [0.68, 0.28]]', 6.0, 22.0, 150.00, 'active'),
  ('c0000005-0000-0000-0000-000000000005', '33333333-3333-3333-3333-333333333333', 'C-05', '[[0.6, 0.34], [0.6, 0.39], [0.68, 0.39], [0.68, 0.34]]', 5.0, 18.0, 100.00, 'active'),
  ('c0000006-0000-0000-0000-000000000006', '33333333-3333-3333-3333-333333333333', 'C-06', '[[0.6, 0.40], [0.6, 0.45], [0.68, 0.45], [0.68, 0.40]]', 5.5, 20.0, 120.00, 'active'),
  ('c0000007-0000-0000-0000-000000000007', '33333333-3333-3333-3333-333333333333', 'C-07', '[[0.6, 0.46], [0.6, 0.51], [0.68, 0.51], [0.68, 0.46]]', 5.0, 18.0, 100.00, 'active'),
  ('c0000008-0000-0000-0000-000000000008', '33333333-3333-3333-3333-333333333333', 'C-08', '[[0.6, 0.52], [0.6, 0.57], [0.68, 0.57], [0.68, 0.52]]', 6.0, 22.0, 150.00, 'active'),
  ('c0000009-0000-0000-0000-000000000009', '33333333-3333-3333-3333-333333333333', 'C-09', '[[0.6, 0.58], [0.6, 0.63], [0.68, 0.63], [0.68, 0.58]]', 5.0, 18.0, 100.00, 'active'),
  ('c0000010-0000-0000-0000-000000000010', '33333333-3333-3333-3333-333333333333', 'C-10', '[[0.6, 0.64], [0.6, 0.69], [0.68, 0.69], [0.68, 0.64]]', 5.5, 20.0, 120.00, 'active');

-- =====================
-- VESSELS (15 test vessels)
-- =====================
INSERT INTO vessels (id, registration_number, name, type, length, width, draft, owner_name, owner_contact, flag_country) VALUES
  ('v0000001-0000-0000-0000-000000000001', 'HR-1234-AB', 'Sunce', 'sailboat', 10.5, 3.2, 1.8, 'Marko Marković', '+385 91 123 4567', 'HR'),
  ('v0000002-0000-0000-0000-000000000002', 'HR-5678-CD', 'Jadran', 'motorboat', 8.0, 2.8, 1.2, 'Ivan Ivić', '+385 92 234 5678', 'HR'),
  ('v0000003-0000-0000-0000-000000000003', 'IT-9012-EF', 'Bella Vista', 'yacht', 15.0, 4.5, 2.2, 'Marco Rossi', '+39 333 456 7890', 'IT'),
  ('v0000004-0000-0000-0000-000000000004', 'HR-3456-GH', 'Dalmacija', 'sailboat', 12.0, 3.8, 2.0, 'Ante Antić', '+385 91 345 6789', 'HR'),
  ('v0000005-0000-0000-0000-000000000005', 'SLO-7890-IJ', 'Triglav', 'motorboat', 9.5, 3.0, 1.5, 'Janez Novak', '+386 41 567 8901', 'SI'),
  ('v0000006-0000-0000-0000-000000000006', 'HR-2345-KL', 'More', 'catamaran', 14.0, 7.5, 1.0, 'Josip Horvat', '+385 98 456 7890', 'HR'),
  ('v0000007-0000-0000-0000-000000000007', 'AT-6789-MN', 'Donau', 'motorboat', 11.0, 3.5, 1.8, 'Hans Mueller', '+43 664 789 0123', 'AT'),
  ('v0000008-0000-0000-0000-000000000008', 'HR-0123-OP', 'Velebit', 'sailboat', 13.5, 4.0, 2.1, 'Stjepan Kovač', '+385 91 567 8901', 'HR'),
  ('v0000009-0000-0000-0000-000000000009', 'DE-4567-QR', 'Nordsee', 'yacht', 18.0, 5.0, 2.5, 'Klaus Schmidt', '+49 170 890 1234', 'DE'),
  ('v0000010-0000-0000-0000-000000000010', 'HR-8901-ST', 'Kornat', 'motorboat', 7.5, 2.5, 1.0, 'Petar Petrović', '+385 92 678 9012', 'HR'),
  ('v0000011-0000-0000-0000-000000000011', 'FR-2345-UV', 'Mistral', 'sailboat', 11.5, 3.6, 1.9, 'Pierre Dupont', '+33 6 12 34 56 78', 'FR'),
  ('v0000012-0000-0000-0000-000000000012', 'HR-6789-WX', 'Split', 'motorboat', 10.0, 3.2, 1.6, 'Luka Lukić', '+385 91 789 0123', 'HR'),
  ('v0000013-0000-0000-0000-000000000013', 'GB-0123-YZ', 'Sea Breeze', 'yacht', 20.0, 5.5, 2.8, 'John Smith', '+44 7700 123456', 'GB'),
  ('v0000014-0000-0000-0000-000000000014', 'HR-4567-AA', 'Zadar', 'catamaran', 12.0, 6.5, 0.9, 'Nikola Nikolić', '+385 98 890 1234', 'HR'),
  ('v0000015-0000-0000-0000-000000000015', 'HR-8901-BB', 'Dubrovnik', 'sailboat', 9.0, 3.0, 1.4, 'Marin Marinić', '+385 91 901 2345', 'HR');

-- =====================
-- DAILY OCCUPANCY (last 7 days)
-- =====================
-- Using CURRENT_DATE - interval for dynamic dates

-- Today's occupancy
INSERT INTO daily_occupancy (berth_id, vessel_id, date, status, notes) VALUES
  ('a0000001-0000-0000-0000-000000000001', 'v0000001-0000-0000-0000-000000000001', CURRENT_DATE, 'occupied', 'Redovni vez'),
  ('a0000002-0000-0000-0000-000000000002', 'v0000002-0000-0000-0000-000000000002', CURRENT_DATE, 'occupied', NULL),
  ('a0000003-0000-0000-0000-000000000003', NULL, CURRENT_DATE, 'free', NULL),
  ('a0000004-0000-0000-0000-000000000004', 'v0000003-0000-0000-0000-000000000003', CURRENT_DATE, 'occupied', 'Gost - dolazak juče'),
  ('a0000005-0000-0000-0000-000000000005', NULL, CURRENT_DATE, 'reserved', 'Rezervacija za vikend'),
  ('b0000001-0000-0000-0000-000000000001', 'v0000004-0000-0000-0000-000000000004', CURRENT_DATE, 'occupied', NULL),
  ('b0000002-0000-0000-0000-000000000002', NULL, CURRENT_DATE, 'free', NULL),
  ('b0000003-0000-0000-0000-000000000003', 'v0000005-0000-0000-0000-000000000005', CURRENT_DATE, 'occupied', NULL),
  ('b0000005-0000-0000-0000-000000000005', 'v0000006-0000-0000-0000-000000000006', CURRENT_DATE, 'occupied', 'Katamaran'),
  ('c0000001-0000-0000-0000-000000000001', 'v0000007-0000-0000-0000-000000000007', CURRENT_DATE, 'occupied', NULL),
  ('c0000002-0000-0000-0000-000000000002', 'v0000009-0000-0000-0000-000000000009', CURRENT_DATE, 'occupied', 'Velika jahta'),
  ('c0000004-0000-0000-0000-000000000004', 'v0000013-0000-0000-0000-000000000013', CURRENT_DATE, 'occupied', 'VIP gost'),
  ('c0000008-0000-0000-0000-000000000008', NULL, CURRENT_DATE, 'reserved', 'Rezervacija za regatu');

-- Yesterday's occupancy (similar pattern)
INSERT INTO daily_occupancy (berth_id, vessel_id, date, status, notes) VALUES
  ('a0000001-0000-0000-0000-000000000001', 'v0000001-0000-0000-0000-000000000001', CURRENT_DATE - INTERVAL '1 day', 'occupied', NULL),
  ('a0000002-0000-0000-0000-000000000002', 'v0000002-0000-0000-0000-000000000002', CURRENT_DATE - INTERVAL '1 day', 'occupied', NULL),
  ('a0000004-0000-0000-0000-000000000004', NULL, CURRENT_DATE - INTERVAL '1 day', 'free', NULL),
  ('b0000001-0000-0000-0000-000000000001', 'v0000004-0000-0000-0000-000000000004', CURRENT_DATE - INTERVAL '1 day', 'occupied', NULL),
  ('b0000003-0000-0000-0000-000000000003', 'v0000005-0000-0000-0000-000000000005', CURRENT_DATE - INTERVAL '1 day', 'occupied', NULL),
  ('c0000001-0000-0000-0000-000000000001', 'v0000007-0000-0000-0000-000000000007', CURRENT_DATE - INTERVAL '1 day', 'occupied', NULL),
  ('c0000002-0000-0000-0000-000000000002', 'v0000009-0000-0000-0000-000000000009', CURRENT_DATE - INTERVAL '1 day', 'occupied', NULL);

-- =====================
-- LEASE CONTRACTS (5 active contracts)
-- =====================
INSERT INTO lease_contracts (id, berth_id, vessel_id, owner_name, owner_email, owner_phone, start_date, end_date, annual_price, payment_schedule, status, notes) VALUES
  ('contract001-0000-0000-0000-000000000001', 'a0000001-0000-0000-0000-000000000001', 'v0000001-0000-0000-0000-000000000001', 'Marko Marković', 'marko@example.com', '+385 91 123 4567', '2025-01-01', '2025-12-31', 18000.00, 'quarterly', 'active', 'Godišnji ugovor - stalni korisnik'),
  ('contract002-0000-0000-0000-000000000002', 'a0000002-0000-0000-0000-000000000002', 'v0000002-0000-0000-0000-000000000002', 'Ivan Ivić', 'ivan@example.com', '+385 92 234 5678', '2025-01-01', '2025-12-31', 21600.00, 'monthly', 'active', NULL),
  ('contract003-0000-0000-0000-000000000003', 'b0000001-0000-0000-0000-000000000001', 'v0000004-0000-0000-0000-000000000004', 'Ante Antić', 'ante@example.com', '+385 91 345 6789', '2025-01-01', '2025-12-31', 25200.00, 'quarterly', 'active', 'Premium lokacija'),
  ('contract004-0000-0000-0000-000000000004', 'c0000001-0000-0000-0000-000000000001', 'v0000007-0000-0000-0000-000000000007', 'Hans Mueller', 'hans@example.at', '+43 664 789 0123', '2025-06-01', '2025-09-30', 12000.00, 'upfront', 'active', 'Sezonski - ljeto 2025'),
  ('contract005-0000-0000-0000-000000000005', 'c0000002-0000-0000-0000-000000000002', 'v0000009-0000-0000-0000-000000000009', 'Klaus Schmidt', 'klaus@example.de', '+49 170 890 1234', '2025-01-01', '2025-12-31', 43200.00, 'annual', 'active', 'VIP - velika jahta');

-- =====================
-- PAYMENTS
-- =====================
-- Contract 1 - Quarterly payments (Q1 paid, Q2 pending)
INSERT INTO payments (contract_id, amount, due_date, paid_date, status, payment_method, receipt_number) VALUES
  ('contract001-0000-0000-0000-000000000001', 4500.00, '2025-01-15', '2025-01-14', 'paid', 'bank_transfer', 'REC-2025-001'),
  ('contract001-0000-0000-0000-000000000001', 4500.00, '2025-04-15', NULL, 'pending', NULL, NULL),
  ('contract001-0000-0000-0000-000000000001', 4500.00, '2025-07-15', NULL, 'pending', NULL, NULL),
  ('contract001-0000-0000-0000-000000000001', 4500.00, '2025-10-15', NULL, 'pending', NULL, NULL);

-- Contract 2 - Monthly payments (first 3 months paid, current overdue)
INSERT INTO payments (contract_id, amount, due_date, paid_date, status, payment_method, receipt_number) VALUES
  ('contract002-0000-0000-0000-000000000002', 1800.00, '2025-01-01', '2025-01-02', 'paid', 'cash', 'REC-2025-002'),
  ('contract002-0000-0000-0000-000000000002', 1800.00, '2025-02-01', '2025-02-03', 'paid', 'cash', 'REC-2025-003'),
  ('contract002-0000-0000-0000-000000000002', 1800.00, '2025-03-01', '2025-03-01', 'paid', 'bank_transfer', 'REC-2025-004'),
  ('contract002-0000-0000-0000-000000000002', 1800.00, '2025-04-01', NULL, 'overdue', NULL, NULL);

-- Contract 3 - Quarterly (Q1 paid)
INSERT INTO payments (contract_id, amount, due_date, paid_date, status, payment_method, receipt_number) VALUES
  ('contract003-0000-0000-0000-000000000003', 6300.00, '2025-01-15', '2025-01-10', 'paid', 'bank_transfer', 'REC-2025-005'),
  ('contract003-0000-0000-0000-000000000003', 6300.00, '2025-04-15', NULL, 'pending', NULL, NULL);

-- Contract 4 - Upfront (fully paid)
INSERT INTO payments (contract_id, amount, due_date, paid_date, status, payment_method, receipt_number) VALUES
  ('contract004-0000-0000-0000-000000000004', 12000.00, '2025-06-01', '2025-05-28', 'paid', 'bank_transfer', 'REC-2025-010');

-- Contract 5 - Annual (paid)
INSERT INTO payments (contract_id, amount, due_date, paid_date, status, payment_method, receipt_number) VALUES
  ('contract005-0000-0000-0000-000000000005', 43200.00, '2025-01-01', '2024-12-28', 'paid', 'bank_transfer', 'REC-2024-099');

-- =====================
-- VIOLATIONS (test violations)
-- =====================
INSERT INTO violations (berth_id, vessel_id, type, description, detected_date, status) VALUES
  ('a0000006-0000-0000-0000-000000000006', 'v0000010-0000-0000-0000-000000000010', 'no_contract', 'Plovilo na vezu bez aktivnog ugovora', CURRENT_DATE - INTERVAL '2 days', 'open'),
  ('b0000004-0000-0000-0000-000000000004', 'v0000011-0000-0000-0000-000000000011', 'unpaid_occupancy', 'Neplaćena dnevna naknada', CURRENT_DATE - INTERVAL '1 day', 'open'),
  ('a0000007-0000-0000-0000-000000000007', 'v0000012-0000-0000-0000-000000000012', 'size_violation', 'Plovilo preširoko za vez', CURRENT_DATE - INTERVAL '5 days', 'resolved');
